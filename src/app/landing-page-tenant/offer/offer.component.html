<section class="py-10 md:py-16 px-4 md:px-6 bg-bone-white" id="rewards">
  <div class="max-w-5xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col md:flex-row border border-primary/10">
    <div class="md:w-[38%] bg-espresso p-5 md:p-8 text-white flex flex-col justify-center">
      <h2 class="text-xl md:text-2xl font-black mb-3 md:mb-4">Regístrate con Nosotros</h2>
      <p class="text-xs md:text-sm text-white/70 mb-4 md:mb-6 leading-relaxed">Desbloquea recompensas por niveles, acceso anticipado a tuestes especiales y un panel personalizado de preparación.</p>
      <ul class="space-y-2 md:space-y-3">
        <li class="flex items-center gap-2 text-xs md:text-sm font-medium">
          <span class="material-symbols-outlined text-caramel text-base">check_circle</span>
          Descuentos por monto de compra
        </li>
        <li class="flex items-center gap-2 text-xs md:text-sm font-medium">
          <span class="material-symbols-outlined text-caramel text-base">check_circle</span>
          Beneficios especiales en tu cumpleaños
        </li>
        <li class="flex items-center gap-2 text-xs md:text-sm font-medium">
          <span class="material-symbols-outlined text-caramel text-base">check_circle</span>
          Tarjeta de lealtad por visitas
        </li>
      </ul>
    </div>
    <div class="md:w-[62%] p-5 md:p-8 lg:p-10">
      <form [formGroup]="customerForm" (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
        <div>
          <label class="block text-[11px] font-bold uppercase tracking-widest text-espresso/60 mb-2">Nombre completo</label>
          <input
            class="w-full bg-background-light border-0 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-caramel transition-all"
            placeholder="Ej: Juana Pérez"
            type="text"
            formControlName="name"
          />
          <div *ngIf="customerForm.get('name')?.invalid && customerForm.get('name')?.touched" class="text-red-500 text-xs mt-1">
            <small *ngIf="customerForm.get('name')?.errors?.['required']">El nombre es obligatorio.</small>
          </div>
        </div>
        <div>
          <label class="block text-[11px] font-bold uppercase tracking-widest text-espresso/60 mb-2">Fecha de nacimiento</label>
          <input
            class="w-full bg-background-light border-0 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-caramel transition-all"
            type="date"
            formControlName="birthDate"
          />
          <div *ngIf="customerForm.get('birthDate')?.invalid && customerForm.get('birthDate')?.touched" class="text-red-500 text-xs mt-1">
            <small *ngIf="customerForm.get('birthDate')?.errors?.['required']">La fecha es obligatoria.</small>
          </div>
        </div>
        <div>
          <label class="block text-[11px] font-bold uppercase tracking-widest text-espresso/60 mb-2">Género</label>
          <select
            class="w-full bg-background-light border-0 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-caramel transition-all"
            formControlName="gender"
          >
            <option value="">Selecciona género</option>
            <option value="Male">Hombre</option>
            <option value="Female">Mujer</option>
            <option value="otro">Otro</option>


          </select>
          <div *ngIf="customerForm.get('gender')?.invalid && customerForm.get('gender')?.touched" class="text-red-500 text-xs mt-1">
            <small *ngIf="customerForm.get('gender')?.errors?.['required']">El género es obligatorio.</small>
          </div>
        </div>
        <div>
          <label class="block text-[11px] font-bold uppercase tracking-widest text-espresso/60 mb-2">Teléfono</label>
          <input
            class="w-full bg-background-light border-0 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-caramel transition-all"
            placeholder="5512345678"
            type="tel"
            formControlName="phone"
            maxlength="10"
            pattern="[0-9]{10}"
            inputmode="numeric"
            (input)="onPhoneInput($event)"
          />
          <div *ngIf="customerForm.get('phone')?.invalid && customerForm.get('phone')?.touched" class="text-red-500 text-xs mt-1">
            <small *ngIf="customerForm.get('phone')?.errors?.['invalidPhone']">Debe ser un número de 10 dígitos.</small>
          </div>
        </div>
        <div>
          <label class="block text-[11px] font-bold uppercase tracking-widest text-espresso/60 mb-2">Correo electrónico</label>
          <input
            class="w-full bg-background-light border-0 rounded-xl px-4 py-2.5 focus:ring-2 focus:ring-caramel transition-all"
            placeholder="ejemplo@correo.com"
            type="email"
            formControlName="email"
          />
          <div *ngIf="customerForm.get('email')?.invalid && customerForm.get('email')?.touched" class="text-red-500 text-xs mt-1">
            <small *ngIf="customerForm.get('email')?.errors?.['required']">El correo es obligatorio.</small>
            <small *ngIf="customerForm.get('email')?.errors?.['email']">Correo inválido.</small>
          </div>
        </div>
        <div class="md:col-span-2 mt-3 space-y-3">
          <label class="flex items-start gap-3 cursor-pointer group">
            <input
              class="mt-1 rounded text-caramel focus:ring-caramel border-espresso/10 w-4 h-4 transition-all"
              type="checkbox"
              formControlName="acceptedPromotions"
            />
            <span class="text-sm text-espresso/70 group-hover:text-espresso transition-colors">Acepto los <a class="text-caramel font-bold" href="#">Términos del servicio</a> y la Política de privacidad.</span>
          </label>
        </div>
        <div class="md:col-span-2 pt-2">
          <button
            class="w-full md:w-full bg-caramel text-white font-black py-4 rounded-xl hover:shadow-xl hover:shadow-caramel/20 transition-all flex items-center justify-center gap-2 text-base"
            type="submit"
            [disabled]="customerForm.invalid || isLoading"
          >
            <span *ngIf="!isLoading">Registrarme</span>
            <div *ngIf="isLoading" class="spinner"></div>
            <span class="material-symbols-outlined">person_add</span>
          </button>
        </div>
      </form>
      <div *ngIf="successMessage" class="alert alert-success mt-3 text-green-600 p-3 bg-green-50 rounded-lg">{{ successMessage }}</div>
      <div *ngIf="errorMessage" class="alert alert-danger mt-3 text-red-600 p-3 bg-red-50 rounded-lg">{{ errorMessage }}</div>
    </div>
  </div>
</section>
